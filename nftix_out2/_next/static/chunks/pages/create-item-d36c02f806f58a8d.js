(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{21932:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-item",function(){return n(66362)}])},66362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(34051),a=n.n(r),i=n(85893),c=n(67294),o=n(60715),u=n(77294),s=n(35553),p=n(14400),l=n(11163),f=(n(42484),n(31838)),d=n(81615),h=n(8693);function v(e,t,n,r,a,i,c){try{var o=e[i](c),u=o.value}catch(s){return void n(s)}o.done?t(u):Promise.resolve(u).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){v(i,r,a,c,o,"next",e)}function o(e){v(i,r,a,c,o,"throw",e)}c(void 0)}))}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}var w=(0,p.Ue)("https://ipfs.infura.io:5001/api/v0");function b(){var e=(0,c.useState)(null),t=e[0],n=e[1],r=(0,c.useState)({price:"",name:"",description:""}),p=r[0],v=r[1],x=(0,l.useRouter)();function b(){return(b=m(a().mark((function e(t){var r,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],e.prev=1,e.next=4,w.add(r,{progress:function(e){return console.log("received: ".concat(e))}});case 4:i=e.sent,c="https://ipfs.infura.io/ipfs/".concat(i.path),n(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error uploading file: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function y(){return(y=m(a().mark((function e(){var n,r,i,c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.name,r=p.description,i=p.price,n&&r&&i&&t){e.next=3;break}return e.abrupt("return");case 3:return c=JSON.stringify({name:n,description:r,image:t,video:t}),e.prev=4,e.next=7,w.add(c);case 7:o=e.sent,N("https://ipfs.infura.io/ipfs/".concat(o.path)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Error uploading file: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function N(e){return k.apply(this,arguments)}function k(){return(k=m(a().mark((function e(t){var n,r,i,c,l,v,m,g,w,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new o.Q(window.ethereum,"any"),e.next=3,n.send("eth_requestAccounts",[]);case 3:return r=n.getSigner(),e.t0=console,e.next=7,r.getAddress();case 7:return e.t1=e.sent,e.t0.log.call(e.t0,"Account:",e.t1),i=new u.CH(f.k,d.Mt,r),e.next=12,i.createToken(t);case 12:return c=e.sent,e.next=15,c.wait();case 15:return l=e.sent,v=l.events[0],m=v.args[2],g=m.toNumber(),w=s.vz(p.price,"ether"),i=new u.CH(f.A,h.Mt,r),e.next=23,i.getListingPrice();case 23:return b=(b=e.sent).toString(),e.next=27,i.createMarketItem(f.k,g,w,{value:b});case 27:return c=e.sent,e.next=30,c.wait();case 30:x.push("/");case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.jsx)("div",{className:"my-10 flex justify-center",children:(0,i.jsxs)("div",{className:"w-1/2 flex flex-col pb-12",children:[(0,i.jsx)("input",{placeholder:"NFTix Name",className:"mt-8 border rounded p-4",onChange:function(e){return v(g({},p,{name:e.target.value}))}}),(0,i.jsx)("textarea",{placeholder:"NFTix Description",className:"mt-2 border rounded p-4",onChange:function(e){return v(g({},p,{description:e.target.value}))}}),(0,i.jsx)("input",{placeholder:"NFTix Price in Matic",className:"mt-2 border rounded p-4",onChange:function(e){return v(g({},p,{price:e.target.value}))}}),(0,i.jsx)("input",{type:"file",name:"NFTix",className:"my-4 rounded mt-4",onChange:function(e){return b.apply(this,arguments)},accept:"video/mp4,video/x-m4v,video/*, image/*"}),t&&(0,i.jsx)("video",{poster:t,src:t,className:"rounded mt-4",width:"350",type:"video/mp4",loop:!0,autoPlay:!0}),(0,i.jsx)("button",{onClick:function(){return y.apply(this,arguments)},className:"flex flex-row text-white justify-center items-center my-5 bg-[#2952e3] p-3 rounded-full cursor-pointer hover:bg-[#2546bd]",children:"Create NFTix"})]})})}},42611:function(){},88795:function(){}},function(e){e.O(0,[277,294,10,828,774,888,179],(function(){return t=21932,e(e.s=t);var t}));var t=e.O();_N_E=t}]);